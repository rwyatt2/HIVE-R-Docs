"use strict";(globalThis.webpackChunktemp_docs=globalThis.webpackChunktemp_docs||[]).push([[1285],{7576(n,e,s){s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"production-readiness/phase-7-cicd","title":"Phase 7: CI/CD & Automation","description":"\u23f1\ufe0f Time: 8-10 hours","source":"@site/docs/production-readiness/08-phase-7-cicd.md","sourceDirName":"production-readiness","slug":"/production-readiness/phase-7-cicd","permalink":"/HIVE-R-Docs/docs/production-readiness/phase-7-cicd","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/production-readiness/08-phase-7-cicd.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Phase 7: CI/CD & Automation","sidebar_label":"Phase 7: CI/CD & Automation"},"sidebar":"tutorialSidebar","previous":{"title":"Phase 6: Performance Optimization","permalink":"/HIVE-R-Docs/docs/production-readiness/phase-6-performance"},"next":{"title":"Phase 8: Production Deployment","permalink":"/HIVE-R-Docs/docs/production-readiness/phase-8-deployment"}}');var r=s(4848),c=s(8453);const l={title:"Phase 7: CI/CD & Automation",sidebar_label:"Phase 7: CI/CD & Automation"},t=".github/workflows/ci-test.yml",d={},o=[];function h(n){const e={a:"a",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"**"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u23f1\ufe0f Time"}),": 8-10 hours"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udcb0 Budget"}),": $15-20"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83c\udfaf Goal"}),": Automated testing, deployment, and changelog generation"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83e\udd16 AI Workers"}),": HIVE-R SRE + Builder + Tech Writer agents"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ud83d\udd04 Step 7.1: Set Up GitHub Actions CI Pipeline"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Your Instruction"})," (in Cursor):"]}),"\n",(0,r.jsx)(e.p,{children:"Consult the SRE agent."}),"\n",(0,r.jsx)(e.p,{children:"CONTEXT:"}),"\n",(0,r.jsx)(e.p,{children:"Currently, we run tests manually. We need automated CI on every push/PR."}),"\n",(0,r.jsx)(e.p,{children:"TASK:"}),"\n",(0,r.jsx)(e.p,{children:"Create GitHub Actions workflows for:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 1. CI (test): Run on every push and PR"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Install dependencies"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run linter (ESLint)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run type check (TypeScript)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run tests (Vitest)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run security audit (npm audit)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Generate coverage report"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Comment coverage on PR"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 2. CI (build): Verify build succeeds"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Build backend (npm run build)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Build frontend (cd client && npm run build)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Build Docker image"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 3. CI (docker): Test Docker image"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Build image"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run container"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run smoke tests against container"}),"\n",(0,r.jsx)(e.p,{children:"DELIVERABLES:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/ci-test.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/ci-build.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/ci-docker.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Badge in README.md (build status)"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Documentation: docs/development/ci-cd.md"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u23f8\ufe0f YOUR APPROVAL GATE"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"Review the CI workflows:"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Runs on pull_request and push to main"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Uses caching (node_modules, npm cache)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Fails if tests fail (blocks merge)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Posts results to PR (coverage, lint errors)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Create workflows"}),":"]}),"\n",(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"githubworkflowsci-testyml",children:".github/workflows/ci-test.yml"})}),"\n",(0,r.jsx)(e.p,{children:"name: CI - Test"}),"\n",(0,r.jsx)(e.p,{children:"on:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 push:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 branches: [main]"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 pull_request:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 branches: [main]"}),"\n",(0,r.jsx)(e.p,{children:"jobs:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 test:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 runs-on: ubuntu-latest"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 steps:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: actions/checkout@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: actions/setup-node@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 with:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 node-version: '18'"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 cache: 'npm'"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Install dependencies"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: npm ci"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Run linter"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: npm run lint"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Run type check"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: npm run type-check"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Run tests"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: npm test"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Generate coverage"}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0 run: npm run test",":coverage"]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Upload coverage"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 uses: codecov/codecov-action@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 with:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 files: ./coverage/coverage-final.json"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Test CI"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"create-a-test-pr-with-intentional-failure",children:"Create a test PR with intentional failure"}),"\n",(0,r.jsx)(e.p,{children:"git checkout -b test-ci"}),"\n",(0,r.jsx)(e.p,{children:"echo \"const x: number = 'string';\" >> src/test-fail.ts"}),"\n",(0,r.jsx)(e.p,{children:'git add . && git commit -m "test: trigger CI"'}),"\n",(0,r.jsx)(e.p,{children:"git push origin test-ci"}),"\n",(0,r.jsx)(e.h1,{id:"open-pr-on-github",children:"Open PR on GitHub"}),"\n",(0,r.jsx)(e.h1,{id:"ci-should-fail-with-type-error",children:"CI should fail with type error"}),"\n",(0,r.jsx)(e.h1,{id:"fix-and-verify-ci-passes",children:"Fix and verify CI passes"}),"\n",(0,r.jsx)(e.p,{children:"rm src/test-fail.ts"}),"\n",(0,r.jsx)(e.p,{children:'git commit -am "fix: remove test failure"'}),"\n",(0,r.jsx)(e.p,{children:"git push"}),"\n",(0,r.jsx)(e.h1,{id:"ci-should-pass-pr-should-show-green-checkmark",children:"CI should pass, PR should show green checkmark"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u2705 Validation"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"\u2610 CI runs on every PR"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Fails on test failures"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Fails on lint errors"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Fails on type errors"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Coverage report posted to PR"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udcca Log Cost"}),": ~$0.10 (30K tokens)"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ud83d\ude80 Step 7.2: Set Up Automated Deployment (CD)"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Your Instruction"})," (in Cursor):"]}),"\n",(0,r.jsx)(e.p,{children:"Consult the SRE agent."}),"\n",(0,r.jsx)(e.p,{children:"CONTEXT:"}),"\n",(0,r.jsx)(e.p,{children:"Manual deployments are error-prone and slow. Automate production deployments."}),"\n",(0,r.jsx)(e.p,{children:"TASK:"}),"\n",(0,r.jsx)(e.p,{children:"Create deployment workflows:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 1. Deploy to staging (on push to main)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Build Docker image"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Push to registry (Docker Hub, ECR, GCR)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Deploy to staging server (SSH or K8s)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run smoke tests"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Notify Slack"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 2. Deploy to production (on git tag)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Build Docker image (with version tag)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Push to registry"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Deploy with blue-green strategy"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run health checks"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Rollback if health checks fail"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Notify Slack with deployment link"}),"\n",(0,r.jsx)(e.p,{children:"DEPLOYMENT TARGET:"}),"\n",(0,r.jsx)(e.p,{children:"[Choose based on your infrastructure]"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Option A: Docker Swarm on VPS"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Option B: Kubernetes cluster"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Option C: Cloud Run / ECS Fargate"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"DELIVERABLES:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/deploy-staging.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/deploy-production.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Deployment scripts: scripts/deploy.sh"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Rollback scripts: scripts/rollback.sh"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Documentation: docs/operations/deployment.md"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u23f8\ufe0f YOUR APPROVAL GATE"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"Review deployment strategy:"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Staging deploys automatically (for testing)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Production requires manual tag (protection)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Has rollback mechanism"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Health checks verify deployment success"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Secrets managed securely (GitHub Secrets)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Setup deployment"})," (Docker Swarm example):"]}),"\n",(0,r.jsx)(e.h1,{id:"githubworkflowsdeploy-productionyml",children:".github/workflows/deploy-production.yml"}),"\n",(0,r.jsx)(e.p,{children:"name: Deploy to Production"}),"\n",(0,r.jsx)(e.p,{children:"on:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 push:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 tags:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - 'v*'\xa0 # Trigger on version tags (v1.0.0)"}),"\n",(0,r.jsx)(e.p,{children:"jobs:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 deploy:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 runs-on: ubuntu-latest"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 steps:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: actions/checkout@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Build Docker image"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: |"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 docker build -t hive-r:${{ github.ref_name }} ."}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0 \xa0 docker tag hive-r:${{ github.ref_name }} hive-r",":latest"]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Push to registry"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: |"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 echo ${{ secrets.DOCKER_PASSWORD }} | docker login -u ${{ secrets.DOCKER_USERNAME }} --password-stdin"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 docker push hive-r:${{ github.ref_name }}"}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0 \xa0 docker push hive-r",":latest"]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Deploy to production"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 uses: appleboy/ssh-action@master"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 with:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 host: ${{ secrets.PROD_HOST }}"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 username: ${{ secrets.PROD_USER }}"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 key: ${{ secrets.PROD_SSH_KEY }}"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 script: |"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 docker pull hive-r:${{ github.ref_name }}"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 docker service update --image hive-r:${{ github.ref_name }} hive_app"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Wait for health check"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: |"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 sleep 30"}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0 \xa0 curl -f ",(0,r.jsx)(e.a,{href:"https://api.hive-r.com/health/ready",children:"https://api.hive-r.com/health/ready"})," || exit 1"]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Notify Slack"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 uses: 8398a7/action-slack@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 with:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 status: ${{ job.status }}"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 text: 'Deployed ${{ github.ref_name }} to production'"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 webhook_url: ${{ secrets.SLACK_WEBHOOK }}"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Test deployment"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"create-a-version-tag",children:"Create a version tag"}),"\n",(0,r.jsx)(e.p,{children:"git tag v1.0.0"}),"\n",(0,r.jsx)(e.p,{children:"git push origin v1.0.0"}),"\n",(0,r.jsx)(e.h1,{id:"watch-github-actions",children:"Watch GitHub Actions"}),"\n",(0,r.jsx)(e.h1,{id:"should-build-push-deploy-and-verify",children:"Should build, push, deploy, and verify"}),"\n",(0,r.jsx)(e.h1,{id:"check-production",children:"Check production"}),"\n",(0,r.jsxs)(e.p,{children:["curl ",(0,r.jsx)(e.a,{href:"https://api.hive-r.com/health/ready",children:"https://api.hive-r.com/health/ready"})]}),"\n",(0,r.jsx)(e.h1,{id:"should-return-healthy-status",children:"Should return healthy status"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u2705 Validation"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Staging deploys on every push to main"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Production deploys on version tags"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Deployment succeeds without manual intervention"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Rollback tested and working"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Slack notifications work"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udcca Log Cost"}),": ~$0.12 (35K tokens)"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ud83d\udcdd Step 7.3: Automated Changelog Generation"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Your Instruction"})," (in Cursor):"]}),"\n",(0,r.jsx)(e.p,{children:"Consult the Tech Writer agent."}),"\n",(0,r.jsx)(e.p,{children:"CONTEXT:"}),"\n",(0,r.jsx)(e.p,{children:"Tracking changes manually is tedious. Automate changelog from git commits."}),"\n",(0,r.jsx)(e.p,{children:"TASK:"}),"\n",(0,r.jsx)(e.p,{children:"Implement automated changelog generation:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 - Use Conventional Commits format (feat:, fix:, docs:, etc)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 - Generate CHANGELOG.md on every release"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 - Group by type (Features, Bug Fixes, Breaking Changes)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 - Link to GitHub issues/PRs"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 - Include contributor credits"}),"\n",(0,r.jsx)(e.p,{children:"TOOLS:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"standard-version or semantic-release"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Commit message linting (commitlint)"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Pre-commit hook to enforce format"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"COMMIT FORMAT:"}),"\n",(0,r.jsx)(e.p,{children:"type(scope): subject"}),"\n",(0,r.jsx)(e.p,{children:"feat(auth): add JWT refresh token support"}),"\n",(0,r.jsx)(e.p,{children:"fix(cache): resolve Redis connection leak"}),"\n",(0,r.jsx)(e.p,{children:"docs(readme): update installation instructions"}),"\n",(0,r.jsx)(e.p,{children:"BREAKING CHANGE: API endpoint /v1/chat renamed to /v2/chat"}),"\n",(0,r.jsx)(e.p,{children:"DELIVERABLES:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Commitlint configuration (.commitlintrc.json)"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Husky pre-commit hooks"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"GitHub Action to generate changelog"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Updated CHANGELOG.md"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Documentation: docs/development/commit-conventions.md"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u23f8\ufe0f YOUR APPROVAL GATE"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"Review commit conventions:"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Format is clear and easy to follow"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Covers common types (feat, fix, docs, chore)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Breaking changes clearly marked"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Examples provided for team"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Setup changelog automation"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"install-tools",children:"Install tools"}),"\n",(0,r.jsx)(e.p,{children:"npm install -D @commitlint/cli @commitlint/config-conventional husky standard-version"}),"\n",(0,r.jsx)(e.h1,{id:"configure-commitlint",children:"Configure commitlint"}),"\n",(0,r.jsx)(e.p,{children:"cat > .commitlintrc.json << 'EOF'"}),"\n",(0,r.jsx)(e.p,{children:"{"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 "extends": ["@commitlint/config-conventional"]'}),"\n",(0,r.jsx)(e.p,{children:"}"}),"\n",(0,r.jsx)(e.p,{children:"EOF"}),"\n",(0,r.jsx)(e.h1,{id:"setup-husky-hooks",children:"Setup husky hooks"}),"\n",(0,r.jsx)(e.p,{children:"npx husky install"}),"\n",(0,r.jsx)(e.p,{children:"npx husky add .husky/commit-msg 'npx --no -- commitlint --edit \"$1\"'"}),"\n",(0,r.jsx)(e.h1,{id:"add-version-script-to-packagejson",children:"Add version script to package.json"}),"\n",(0,r.jsx)(e.p,{children:'npm pkg set scripts.release="standard-version"'}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Test changelog"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"make-commits-with-conventional-format",children:"Make commits with conventional format"}),"\n",(0,r.jsx)(e.p,{children:'git commit -m "feat(cache): implement semantic caching"'}),"\n",(0,r.jsx)(e.p,{children:'git commit -m "fix(auth): resolve token expiration bug"'}),"\n",(0,r.jsx)(e.h1,{id:"generate-changelog",children:"Generate changelog"}),"\n",(0,r.jsx)(e.p,{children:"npm run release"}),"\n",(0,r.jsx)(e.h1,{id:"check-changelogmd",children:"Check CHANGELOG.md"}),"\n",(0,r.jsx)(e.p,{children:"cat CHANGELOG.md"}),"\n",(0,r.jsx)(e.h1,{id:"should-show-grouped-commits-with-links",children:"Should show grouped commits with links"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u2705 Validation"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Commit messages validated (can't commit without format)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Changelog auto-generated"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Changelog is well-formatted and readable"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Version bumped automatically (semantic versioning)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udcca Log Cost"}),": ~$0.06 (20K tokens)"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ud83d\udd10 Step 7.4: Automated Security Scanning"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Your Instruction"})," (in Cursor):"]}),"\n",(0,r.jsx)(e.p,{children:"Consult the Security agent."}),"\n",(0,r.jsx)(e.p,{children:"CONTEXT:"}),"\n",(0,r.jsx)(e.p,{children:"New vulnerabilities are discovered daily. Automate security scanning."}),"\n",(0,r.jsx)(e.p,{children:"TASK:"}),"\n",(0,r.jsx)(e.p,{children:"Add security scanning to CI/CD:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 1. Dependency scanning (npm audit, Snyk)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Scan on every PR"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Fail if critical vulnerabilities"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Auto-create PRs to update vulnerable deps"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 2. Code scanning (CodeQL, Semgrep)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Scan for common vulnerabilities (SQL injection, XSS, etc)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Scan for secrets accidentally committed"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Fail if high-severity issues"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 3. Container scanning (Trivy, Grype)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Scan Docker images for OS vulnerabilities"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Fail if critical CVEs"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 4. License compliance"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Ensure all dependencies have compatible licenses"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - No GPL in commercial project (if applicable)"}),"\n",(0,r.jsx)(e.p,{children:"DELIVERABLES:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/security.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Snyk integration (or GitHub Dependabot)"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"CodeQL configuration"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Container scanning in CI"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Security policy: SECURITY.md"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u23f8\ufe0f YOUR APPROVAL GATE"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"Review security scanning config:"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Scans run on every PR (not just main)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Doesn't block on low-severity issues"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Has process for triaging vulnerabilities"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Auto-updates non-breaking security fixes"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Setup security scanning"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"githubworkflowssecurityyml",children:".github/workflows/security.yml"}),"\n",(0,r.jsx)(e.p,{children:"name: Security Scanning"}),"\n",(0,r.jsx)(e.p,{children:"on:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 pull_request:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 schedule:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 - cron: '0 0 * * 0'\xa0 # Weekly"}),"\n",(0,r.jsx)(e.p,{children:"jobs:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 dependencies:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 runs-on: ubuntu-latest"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 steps:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: actions/checkout@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Run npm audit"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 run: npm audit --audit-level=high"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 code-scanning:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 runs-on: ubuntu-latest"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 steps:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: actions/checkout@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: github/codeql-action/init@v2"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 with:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 languages: javascript, typescript"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: github/codeql-action/analyze@v2"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 container-scanning:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 runs-on: ubuntu-latest"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 steps:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - uses: actions/checkout@v3"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Build image"}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0 run: docker build -t hive-r",":test"," ."]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - name: Scan with Trivy"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 uses: aquasecurity/trivy-action@master"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 with:"}),"\n",(0,r.jsxs)(e.p,{children:["\xa0 \xa0 \xa0 \xa0 \xa0 image-ref: hive-r",":test"]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 severity: 'CRITICAL,HIGH'"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Test security scanning"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"trigger-manually",children:"Trigger manually"}),"\n",(0,r.jsx)(e.p,{children:"git push origin your-branch"}),"\n",(0,r.jsx)(e.h1,{id:"check-github-actions---security-tab",children:"Check GitHub Actions -> Security tab"}),"\n",(0,r.jsx)(e.h1,{id:"should-see-scanning-results",children:"Should see scanning results"}),"\n",(0,r.jsx)(e.h1,{id:"intentionally-add-a-vulnerable-dependency",children:"Intentionally add a vulnerable dependency"}),"\n",(0,r.jsx)(e.p,{children:"npm install express@3.0.0\xa0 # Old version with CVEs"}),"\n",(0,r.jsx)(e.h1,{id:"push-and-verify-ci-fails-with-vulnerability-report",children:"Push and verify CI fails with vulnerability report"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u2705 Validation"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Security scans run automatically"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Vulnerabilities detected correctly"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 CI blocks critical vulnerabilities"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Dependabot/Snyk creates auto-update PRs"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udcca Log Cost"}),": ~$0.08 (25K tokens)"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\ud83d\udcca Step 7.5: Automated Performance Testing"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Your Instruction"})," (in Cursor):"]}),"\n",(0,r.jsx)(e.p,{children:"Consult the SRE and Data Analyst agents."}),"\n",(0,r.jsx)(e.p,{children:"CONTEXT:"}),"\n",(0,r.jsx)(e.p,{children:"Performance regressions slip in silently. Catch them early with automated tests."}),"\n",(0,r.jsx)(e.p,{children:"TASK:"}),"\n",(0,r.jsx)(e.p,{children:"Add performance testing to CI:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 1. Load testing (Artillery, K6)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run on every release candidate"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Test: 100 concurrent users, 5 min duration"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Assert: p95 latency <1s, error rate <1%"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Compare against baseline (detect regressions)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 2. Frontend performance (Lighthouse CI)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Run on every PR that touches frontend"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Assert: Performance score >90"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Track metrics over time"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 3. Database performance"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Benchmark critical queries"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Assert: <50ms for reads, <100ms for writes"}),"\n",(0,r.jsx)(e.p,{children:"\xa0\xa0 \xa0 - Detect N+1 queries"}),"\n",(0,r.jsx)(e.p,{children:"DELIVERABLES:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:".github/workflows/performance.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Load test scripts: tests/performance/load-test.yml"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Performance budgets in CI"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Grafana dashboard for performance trends"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"Alert if regression detected"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u23f8\ufe0f YOUR APPROVAL GATE"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"Review performance thresholds:"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Realistic (based on current performance)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Not too strict (allows for normal variance)"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Catches real regressions (10% slower = fail)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Setup performance testing"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"testsperformanceload-testyml-artillery",children:"tests/performance/load-test.yml (Artillery)"}),"\n",(0,r.jsx)(e.p,{children:"config:"}),"\n",(0,r.jsxs)(e.p,{children:['\xa0 target: "',(0,r.jsx)(e.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),'"']}),"\n",(0,r.jsx)(e.p,{children:"\xa0 phases:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 - duration: 60"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 arrivalRate: 10"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 \xa0 \xa0 name: "Warm up"'}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 - duration: 300"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 arrivalRate: 20"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 \xa0 \xa0 name: "Sustained load"'}),"\n",(0,r.jsx)(e.p,{children:"scenarios:"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 - name: "Chat flow"'}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 flow:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 - post:"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 \xa0 \xa0 \xa0 \xa0 url: "/chat"'}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 json:"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 messages: [{"role": "user", "content": "test"}]'}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 expect:"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 - statusCode: 200"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 - contentType: json"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 - hasProperty: response"}),"\n",(0,r.jsx)(e.h1,{id:"add-to-ci",children:"Add to CI"}),"\n",(0,r.jsx)(e.h1,{id:"githubworkflowsperformanceyml",children:".github/workflows/performance.yml"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"name: Run load test"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\xa0 run: |"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 npm start &"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 sleep 10"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 npx artillery run tests/performance/load-test.yml --output report.json"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 npx artillery report report.json"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 # Check assertions"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 p95=$(jq '.aggregate.latency.p95' report.json)"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 if [ $p95 -gt 1000 ]; then"}),"\n",(0,r.jsx)(e.p,{children:'\xa0 \xa0 \xa0 echo "Performance regression: p95 latency ${p95}ms > 1000ms"'}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 \xa0 exit 1"}),"\n",(0,r.jsx)(e.p,{children:"\xa0 \xa0 fi"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Test performance CI"}),":"]}),"\n",(0,r.jsx)(e.h1,{id:"run-load-test-locally-first",children:"Run load test locally first"}),"\n",(0,r.jsx)(e.p,{children:"npm start &"}),"\n",(0,r.jsx)(e.p,{children:"npx artillery run tests/performance/load-test.yml"}),"\n",(0,r.jsx)(e.h1,{id:"check-report",children:"Check report"}),"\n",(0,r.jsx)(e.h1,{id:"should-pass-with-p95-1s",children:"Should pass with p95 <1s"}),"\n",(0,r.jsx)(e.h1,{id:"introduce-performance-regression-sleep-in-code",children:"Introduce performance regression (sleep in code)"}),"\n",(0,r.jsx)(e.h1,{id:"push-and-verify-ci-fails",children:"Push and verify CI fails"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u2705 Validation"}),":"]}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Performance tests run in CI"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Regressions detected"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Frontend performance tracked"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Database benchmarks pass"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udcca Log Cost"}),": ~$0.10 (30K tokens)"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u2705 Phase 7 Complete When:"})}),"\n",(0,r.jsx)(e.p,{children:"\u2610 CI runs tests on every PR"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 CD deploys to staging/production automatically"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Changelog auto-generated"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Security scanning active"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Performance testing in CI"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 All pipelines passing"}),"\n",(0,r.jsx)(e.p,{children:"\u2610 Total cost <$20 for Phase 7"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83d\udca1 Key Insight"}),": Automation = Confidence. Ship faster with fewer bugs."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83c\udf89 MAJOR MILESTONE"}),": Your development workflow is now professional-grade."]}),"\n",(0,r.jsx)(e.p,{children:"**"})]})}function p(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},8453(n,e,s){s.d(e,{R:()=>l,x:()=>t});var i=s(6540);const r={},c=i.createContext(r);function l(n){const e=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),i.createElement(c.Provider,{value:e},n.children)}}}]);