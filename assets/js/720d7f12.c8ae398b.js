"use strict";(globalThis.webpackChunktemp_docs=globalThis.webpackChunktemp_docs||[]).push([[7658],{4067(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"production-readiness/appendix","title":"Appendix: Troubleshooting","description":"Troubleshooting: MCP Connection","source":"@site/docs/production-readiness/10-appendix.md","sourceDirName":"production-readiness","slug":"/production-readiness/appendix","permalink":"/HIVE-R-Docs/docs/production-readiness/appendix","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/production-readiness/10-appendix.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Appendix: Troubleshooting","sidebar_label":"Appendix: Troubleshooting"},"sidebar":"tutorialSidebar","previous":{"title":"Phase 8: Production Deployment","permalink":"/HIVE-R-Docs/docs/production-readiness/phase-8-deployment"},"next":{"title":"Tutorial - Basics","permalink":"/HIVE-R-Docs/docs/category/tutorial---basics"}}');var i=s(4848),o=s(8453);const t={title:"Appendix: Troubleshooting",sidebar_label:"Appendix: Troubleshooting"},l=void 0,c={},h=[{value:"Troubleshooting: MCP Connection",id:"troubleshooting-mcp-connection",level:3},{value:"Troubleshooting: Tests Failing",id:"troubleshooting-tests-failing",level:3},{value:"Troubleshooting: High Costs",id:"troubleshooting-high-costs",level:3},{value:"Troubleshooting: Deployment Failures",id:"troubleshooting-deployment-failures",level:3},{value:"Troubleshooting: Monitoring Not Working",id:"troubleshooting-monitoring-not-working",level:3}];function d(e){const n={a:"a",em:"em",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"**"}),"\n",(0,i.jsx)(n.h3,{id:"troubleshooting-mcp-connection",children:"Troubleshooting: MCP Connection"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),': Cursor says "Tool not found: consult_hive_swarm"']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsx)(n.h1,{id:"1-verify-hive-r-server-is-running",children:"1. Verify HIVE-R server is running"}),"\n",(0,i.jsxs)(n.p,{children:["curl ",(0,i.jsx)(n.a,{href:"http://localhost:3000/health/live",children:"http://localhost:3000/health/live"})]}),"\n",(0,i.jsx)(n.h1,{id:"should-return-statusok",children:'Should return {"status":"ok"}'}),"\n",(0,i.jsx)(n.h1,{id:"2-check-mcp-server-starts-correctly",children:"2. Check MCP server starts correctly"}),"\n",(0,i.jsx)(n.p,{children:"node /path/to/HIVE-R/dist/mcp-server.js"}),"\n",(0,i.jsx)(n.h1,{id:"should-not-show-errors",children:"Should not show errors"}),"\n",(0,i.jsx)(n.h1,{id:"3-verify-mcp_configjson-path-is-absolute-not-relative",children:"3. Verify mcp_config.json path is absolute (not relative)"}),"\n",(0,i.jsx)(n.p,{children:"cat ~/.cursor/mcp_config.json"}),"\n",(0,i.jsx)(n.h1,{id:"args-usersyoudesktophive-rdistmcp-serverjs-",children:'"args": ["/Users/you/Desktop/HIVE-R/dist/mcp-server.js"]\xa0 \u2705'}),"\n",(0,i.jsx)(n.h1,{id:"args-desktophive-rdistmcp-serverjs------",children:'"args": ["~/Desktop/HIVE-R/dist/mcp-server.js"]\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \u274c'}),"\n",(0,i.jsx)(n.h1,{id:"4-restart-cursor-completely-not-just-reload",children:"4. Restart Cursor completely (not just reload)"}),"\n",(0,i.jsx)(n.h3,{id:"troubleshooting-tests-failing",children:"Troubleshooting: Tests Failing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": npm test shows failures"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsx)(n.h1,{id:"1-run-single-test-file-to-isolate",children:"1. Run single test file to isolate"}),"\n",(0,i.jsx)(n.p,{children:"npm test tests/graph.test.ts"}),"\n",(0,i.jsx)(n.h1,{id:"2-check-if-mocks-are-correct",children:"2. Check if mocks are correct"}),"\n",(0,i.jsx)(n.h1,{id:"look-for-cannot-read-property-invoke-of-undefined",children:"Look for: \"Cannot read property 'invoke' of undefined\""}),"\n",(0,i.jsx)(n.h1,{id:"-llm-not-mocked-correctly",children:"\u2192 LLM not mocked correctly"}),"\n",(0,i.jsx)(n.h1,{id:"3-update-snapshots-if-intentional-changes",children:"3. Update snapshots if intentional changes"}),"\n",(0,i.jsx)(n.p,{children:"npm test -- --update-snapshots"}),"\n",(0,i.jsx)(n.h1,{id:"4-ask-ai-to-fix",children:"4. Ask AI to fix"}),"\n",(0,i.jsx)(n.h1,{id:"in-cursor-tests-are-failing-with-this-error-paste-fix-the-tests",children:'In Cursor: "Tests are failing with this error: [paste]. Fix the tests."'}),"\n",(0,i.jsx)(n.h3,{id:"troubleshooting-high-costs",children:"Troubleshooting: High Costs"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Token usage exceeds budget"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsx)(n.h1,{id:"1-identify-expensive-queries",children:"1. Identify expensive queries"}),"\n",(0,i.jsx)(n.p,{children:"sqlite3 data/hive.db << 'EOF'"}),"\n",(0,i.jsx)(n.p,{children:"SELECT agent_name, COUNT(*) as calls, SUM(cost_usd) as total_cost"}),"\n",(0,i.jsx)(n.p,{children:"FROM token_usage"}),"\n",(0,i.jsx)(n.p,{children:"WHERE date(timestamp) = date('now')"}),"\n",(0,i.jsx)(n.p,{children:"GROUP BY agent_name"}),"\n",(0,i.jsx)(n.p,{children:"ORDER BY total_cost DESC"}),"\n",(0,i.jsx)(n.p,{children:"LIMIT 10;"}),"\n",(0,i.jsx)(n.p,{children:"EOF"}),"\n",(0,i.jsx)(n.h1,{id:"2-check-cache-hit-rate",children:"2. Check cache hit rate"}),"\n",(0,i.jsxs)(n.p,{children:["curl ",(0,i.jsx)(n.a,{href:"http://localhost:3000/metrics",children:"http://localhost:3000/metrics"})," | grep cache_hit_rate"]}),"\n",(0,i.jsx)(n.h1,{id:"if-30-investigate-why-caching-isnt-working",children:"If <30%, investigate why caching isn't working"}),"\n",(0,i.jsx)(n.h1,{id:"3-reduce-daily-budget-temporarily",children:"3. Reduce daily budget temporarily"}),"\n",(0,i.jsx)(n.p,{children:'echo "DAILY_BUDGET=10.00" >> .env'}),"\n",(0,i.jsx)(n.p,{children:"npm restart"}),"\n",(0,i.jsx)(n.h1,{id:"4-enable-more-aggressive-rate-limiting",children:"4. Enable more aggressive rate limiting"}),"\n",(0,i.jsx)(n.h1,{id:"edit-srcmiddlewarerate-limitts",children:"Edit src/middleware/rate-limit.ts"}),"\n",(0,i.jsx)(n.h1,{id:"change-arrivalrate-10-was-20",children:"Change: arrivalRate: 10 (was 20)"}),"\n",(0,i.jsx)(n.h3,{id:"troubleshooting-deployment-failures",children:"Troubleshooting: Deployment Failures"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": docker-compose up fails"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsx)(n.h1,{id:"1-check-docker-is-running",children:"1. Check Docker is running"}),"\n",(0,i.jsx)(n.p,{children:"docker ps"}),"\n",(0,i.jsx)(n.h1,{id:"if-error-restart-docker-daemon",children:"If error, restart Docker daemon"}),"\n",(0,i.jsx)(n.h1,{id:"2-check-for-port-conflicts",children:"2. Check for port conflicts"}),"\n",(0,i.jsx)(n.p,{children:"lsof -i :3000"}),"\n",(0,i.jsx)(n.h1,{id:"if-something-else-is-using-port-3000-stop-it-or-change-port",children:"If something else is using port 3000, stop it or change port"}),"\n",(0,i.jsx)(n.h1,{id:"3-verify-environment-variables",children:"3. Verify environment variables"}),"\n",(0,i.jsx)(n.p,{children:"docker-compose config"}),"\n",(0,i.jsx)(n.h1,{id:"should-show-resolved-env-vars-not-var-placeholders",children:"Should show resolved env vars (not ${VAR} placeholders)"}),"\n",(0,i.jsx)(n.h1,{id:"4-check-logs",children:"4. Check logs"}),"\n",(0,i.jsx)(n.p,{children:"docker-compose logs app"}),"\n",(0,i.jsx)(n.h1,{id:"look-for-startup-errors",children:"Look for startup errors"}),"\n",(0,i.jsx)(n.h1,{id:"5-rebuild-from-scratch",children:"5. Rebuild from scratch"}),"\n",(0,i.jsx)(n.p,{children:"docker-compose down -v\xa0 # Remove volumes"}),"\n",(0,i.jsx)(n.p,{children:"docker-compose build --no-cache"}),"\n",(0,i.jsx)(n.p,{children:"docker-compose up -d"}),"\n",(0,i.jsx)(n.h3,{id:"troubleshooting-monitoring-not-working",children:"Troubleshooting: Monitoring Not Working"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Grafana shows no data"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solutions"}),":"]}),"\n",(0,i.jsx)(n.h1,{id:"1-check-prometheus-is-scraping",children:"1. Check Prometheus is scraping"}),"\n",(0,i.jsxs)(n.p,{children:["curl ",(0,i.jsx)(n.a,{href:"http://localhost:9090/targets",children:"http://localhost:9090/targets"})]}),"\n",(0,i.jsx)(n.h1,{id:"should-show-up-for-hive-target",children:'Should show "UP" for hive target'}),"\n",(0,i.jsx)(n.h1,{id:"2-verify-metrics-endpoint",children:"2. Verify metrics endpoint"}),"\n",(0,i.jsxs)(n.p,{children:["curl ",(0,i.jsx)(n.a,{href:"http://localhost:3000/metrics",children:"http://localhost:3000/metrics"})]}),"\n",(0,i.jsx)(n.h1,{id:"should-return-prometheus-format",children:"Should return Prometheus format"}),"\n",(0,i.jsx)(n.h1,{id:"3-check-prometheus-config",children:"3. Check Prometheus config"}),"\n",(0,i.jsx)(n.p,{children:"cat prometheus.yml"}),"\n",(0,i.jsx)(n.h1,{id:"target-should-be-hostdockerinternal3000-not-localhost",children:"Target should be: host.docker.internal:3000 (not localhost)"}),"\n",(0,i.jsx)(n.h1,{id:"4-restart-monitoring-stack",children:"4. Restart monitoring stack"}),"\n",(0,i.jsx)(n.p,{children:"docker-compose restart prometheus grafana"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\ud83d\ude80 NEXT STEPS: CONTINUOUS IMPROVEMENT"})}),"\n",(0,i.jsx)(n.p,{children:"Your system is production-ready, but there's always room for improvement:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Month 2 Goals:"})}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Achieve 80%+ test coverage"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Reduce costs by additional 20% (fine-tuning)"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Add 2-3 more specialized agents"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Implement user feedback loop"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Start building agent marketplace"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Month 3 Goals:"})}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Migrate to PostgreSQL (for scaling)"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Add multi-region deployment"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Implement self-improving agents"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Launch public beta"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Achieve $10K MRR"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Month 6 Goals:"})}),"\n",(0,i.jsx)(n.p,{children:"\u2610 1000+ active users"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 99.95% uptime SLA"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Self-sustaining (revenue > costs)"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Community-built agents in marketplace"}),"\n",(0,i.jsx)(n.p,{children:"\u2610 Featured in AI engineering publications"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\ud83d\udcd6 YOUR ONLINE GUIDE IS READY"})}),"\n",(0,i.jsx)(n.p,{children:"This document IS your online guide. To use it:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Bookmark this page"})," or save as PDF"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Work through one step at a time"})," (checkboxes help track progress)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Copy-paste prompts exactly"})," into Cursor or Claude"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Review AI's work"})," at each approval gate"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Validate"})," before moving to next step"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log costs"})," in budget-tracker.md after each step"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Remember"}),":"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 \u2705 You are the ",(0,i.jsx)(n.strong,{children:"Thought Leader"})," (strategic decisions, approval gates)"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 \ud83e\udd16 AI is the ",(0,i.jsx)(n.strong,{children:"Worker"})," (coding, testing, documentation)"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 \ud83d\udccb This guide is your ",(0,i.jsx)(n.strong,{children:"Playbook"})," (step-by-step instructions)"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022 \u2713 Checkboxes are your ",(0,i.jsx)(n.strong,{children:"Progress Tracker"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\ud83c\udf89 You're ready to build! Start with Phase 0 and work through systematically."})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Good luck, and remember"}),": The best AI systems are built iteratively, with human oversight at every critical decision point. You've got this! \ud83d\ude80"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Last Updated: February 7, 2026"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Guide Version: 1.0"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Maintained by: Your AI Development Team"})})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var r=s(6540);const i={},o=r.createContext(i);function t(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);